<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-02-09 Sun 02:52 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="author" content="BraysComputer" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org1c68fb2">1. flowVC</a>
<ul>
<li><a href="#org9d11028">1.1. Usage</a>
<ul>
<li><a href="#org83ff964">1.1.1. Quick Start</a></li>
<li><a href="#orgedb9128">1.1.2. Data Files</a></li>
</ul>
</li>
<li><a href="#org33648e4">1.2. Installation</a>
<ul>
<li><a href="#orgc2a3d2d">1.2.1. Automated Release</a></li>
<li><a href="#orga040f3e">1.2.2. Build From Source</a></li>
<li><a href="#org8889132">1.2.3. Development Guidlines</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgda4979f">2. Planned Updates</a>
<ul>
<li><a href="#org7fc6255">2.1. <span class="todo TODO">TODO</span> Add an example settings file</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org1c68fb2" class="outline-2">
<h2 id="org1c68fb2"><span class="section-number-2">1.</span> flowVC</h2>
<div class="outline-text-2" id="text-1">
<p>
Flow Visualization Code forked from FlowPhysics/flowVC
</p>

<p>
<a href="https://github.com/bkm82/flowVC/actions"><img src="https://github.com/bkm82/flowVC/workflows/CI/badge.svg" alt="badge.svg" class="org-svg" /></a>
<a href="https://github.com/bkm82/flowVC/actions"><img src="https://github.com/bkm82/flowVC/workflows/CD/badge.svg" alt="badge.svg" class="org-svg" /></a>
<a href="https://codecov.io/gh/bkm82/flowVC"><img src="https://codecov.io/gh/bkm82/flowVC/graph/badge.svg?token=1U1152BG8T" alt="badge.svg?token=1U1152BG8T" /></a>
</p>


<p>
Copyright 2013 Shadden Research Group. All rights reserved.
</p>

<p>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>
</div>

<div id="outline-container-org9d11028" class="outline-3">
<h3 id="org9d11028"><span class="section-number-3">1.1.</span> Usage</h3>
<div class="outline-text-3" id="text-1-1">
<p>
This code is used to perform flow visualization post processing. It can be used to calculate the Finite Time Lyoponove Exponent (FTLE) field
</p>
</div>
<div id="outline-container-org83ff964" class="outline-4">
<h4 id="org83ff964"><span class="section-number-4">1.1.1.</span> Quick Start</h4>
<div class="outline-text-4" id="text-1-1-1">
<ol class="org-ol">
<li>Ensure your simulation results for a tetrahedral mesh. If they are not, interpolate them onto a tetrahedral mesh using something like paraview. Save them into evenly spaced time steps in a directory using a name<sub>xxxxx.vtu</sub> file format.</li>
<li>Use the vtu<sub>2</sub><sub>bin</sub> section <a href="https://github.com/bkm82/flowVC-utils">flowVC-Utils</a> python project to convert the .vtu to a binary format</li>
<li>Use the inigenerator section <a href="https://github.com/bkm82/flowVC-utils">flowVC-Utils</a> python project to create a settings file (.ini)</li>
</ol>


<div class="org-src-container">
<pre class="src src-shell">./flowvc.out settings_file
</pre>
</div>
</div>
</div>

<div id="outline-container-orgedb9128" class="outline-4">
<h4 id="orgedb9128"><span class="section-number-4">1.1.2.</span> Data Files</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
To run the <a href="../../../../roamnotes/20250128223327-flowvc.html#ID-f888271a-2f1f-47b3-8a3c-482c0df3e64c">flowVC</a> code the _velocity.bin, _coordinates.bin, _connectivity.bin, and _adjacency.bin files need to be created from the velocity data. For each of these files, the full file name should incldue a file prefix before the _ to create a descriptive file name. Refer to <a href="https://shaddenlab.berkeley.edu/uploads/releasenotes.pdf">https://shaddenlab.berkeley.edu/uploads/releasenotes.pdf</a> for a more detailed description of each of these files. 
</p>
</div>
<ol class="org-ol">
<li><a id="orgb275102"></a>Cordinates File<br />
<div class="outline-text-6" id="text-1-1-2-0-1">
<p>
For an unstructured velocity data set, the _cordinates.bin is a binary file stored in the following order.
</p>
\begin{equation} 
n \; \underbrace{x_0\; y_0\; z_0}_{\text{node 0}} \underbrace{x_1\;  y_1 \; z_1}_{\text{node 1}} ....\; \underbrace{x_{n-1} \; y_{n-1}\; z_{n-1}}_{\text{node n-1}}
\end{equation}
</div>

<ol class="org-ol">
<li><a id="org3d85eab"></a>Data Type<br />
<div class="outline-text-7" id="text-1-1-2-0-1-1">
<p>
n(int): the number of points in the data set
\(x_i, y_i, z_i\)(double): The cordinates of each node
</p>
</div>
</li>
</ol>
</li>

<li><a id="org6c8dbf3"></a>Connectivity<br />
<div class="outline-text-6" id="text-1-1-2-0-2">
<p>
The _connectivity.bin file contains the nodes that make up each element. For a tetrahedral mesh this results in 4 points per element.
</p>

\begin{equation} 
   e\; \underbrace{i_0^0\; i_0^1\; i_0^2\; i_0^3}_{\text{element 0}} \underbrace{i_1^0\; i_1^1\; i_1^2\; i_1^3}_{\text{element 1}} ... \underbrace{i_{e-1}^0\; i_{e-1}^1\; i_{e-1}^2\; i_{e-1}^3}_{\text{element e-1}} 
\end{equation}
</div>

<ol class="org-ol">
<li><a id="orge35995f"></a>Data Type<br />
<div class="outline-text-7" id="text-1-1-2-0-2-1">
<p>
e(int): The number of elements in the data set
\(i_i^j\) (int): The index of the jth point making ith element in the dataset
</p>
</div>
</li>
</ol>
</li>

<li><a id="orgd78a4f1"></a>Adjacency<br />
<div class="outline-text-6" id="text-1-1-2-0-3">
<p>
The _adjacency.bin file contains the indices of the adacent elements that share a face with the current element. The number of the element is based on the order of the coordinates.bin file.
</p>

\begin{equation} 
   e\; \underbrace{e_0^0\; e_0^1\; e_0^2\; e_0^3}_{\text{element 0}} \underbrace{e_1^0\; e_1^1\; e_1^2\; e_1^3}_{\text{element 1}} ... \underbrace{e_{e-1}^0\; e_{e-1}^1\; e_{e-1}^2\; e_{e-1}^3}_{\text{element e-1}} 
\end{equation}
</div>

<ol class="org-ol">
<li><a id="org90260c9"></a>Data Type<br />
<div class="outline-text-7" id="text-1-1-2-0-3-1">
<p>
e(int): The number of elements in the data set
\(e_i^j\) (int): The index of the element that shares the j'th face for the ith element in the dataset. Note if the element face is not shared with another element (i.e. on the edge this is a -1)
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>
</div>






<div id="outline-container-org33648e4" class="outline-3">
<h3 id="org33648e4"><span class="section-number-3">1.2.</span> Installation</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orgc2a3d2d" class="outline-4">
<h4 id="orgc2a3d2d"><span class="section-number-4">1.2.1.</span> Automated Release</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
If you are on ubuntu, the code here can be ran directly using the compiled binary in the latest release. Otherwise follow the instructions below for building the source code from the source code .
</p>
</div>
</div>

<div id="outline-container-orga040f3e" class="outline-4">
<h4 id="orga040f3e"><span class="section-number-4">1.2.2.</span> Build From Source</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
To build the code from source the there are two options. The first option involved installing Ceedling and its dependencies. Alternativly, if you have docker, you can download the docker image with the dependencies all bundeled together. 
</p>
</div>

<ol class="org-ol">
<li><a id="orgf6ad963"></a>Ceedling<br />
<ol class="org-ol">
<li><a id="org25b5fcf"></a>Dependencies<br />
<div class="outline-text-6" id="text-1-2-2-1-1">
<p>
<a href="https://www.ruby-lang.org/en/">Ruby</a> &gt; v 3.0: A programing language used for Ceedling
</p>

<p>
<a href="https://github.com/ThrowTheSwitch/Ceedling">Ceedling</a> : Ceedling is a Test-Centered Build System for C. It utilizes a collection of tools for testing (Unity) and mocking (CMock) 
</p>
</div>
</li>

<li><a id="org619938b"></a>Instalation<br />
<div class="outline-text-6" id="text-1-2-2-1-2">
<ol class="org-ol">
<li>Install <a href="https://www.ruby-lang.org/en/">Ruby</a> by refering to the ruby documentation for your operating system.</li>

<li><p>
Install Ceedling gem from the RubyGems repository
</p>
<div class="org-src-container">
<pre class="src src-shell">gem install ceedling
</pre>
</div></li>

<li><p>
Clone the repository
</p>
<div class="org-src-container">
<pre class="src src-shell">https://github.com/bkm82/flowVC.git
<span style="color: #e5786d;">cd</span> flowVC
</pre>
</div></li>
<li><p>
To compile and run all of the tests, run
</p>
<div class="org-src-container">
<pre class="src src-shell">ceedling test:all
</pre>
</div></li>
<li><p>
To build the relese run
</p>

<div class="org-src-container">
<pre class="src src-shell">ceedling release
</pre>
</div>

<p>
this will create the ./build/release/flowVC.out executable that you can run.
</p></li>
</ol>
</div>
</li>
</ol>
</li>

<li><a id="org65453ea"></a>Docker<br />
<div class="outline-text-5" id="text-1-2-2-2">
<p>
Alternatly, if you dont want to install the tooling and would prefer to use a docker container you can do that
</p>

<ol class="org-ol">
<li>Install docker (outside the scope of this documentation)</li>
<li><p>
Clone the repository
</p>
<div class="org-src-container">
<pre class="src src-shell">https://github.com/bkm82/flowVC.git
<span style="color: #e5786d;">cd</span> flowVC
</pre>
</div></li>

<li><p>
Pull the docker image from docker hub <a href="https://hub.docker.com/r/throwtheswitch/madsciencelab">madsciencelab</a> 
</p>
<div class="org-src-container">
<pre class="src src-shell">docker pull throwtheswitch/madsciencelab:latest
</pre>
</div></li>
<li><p>
Run the tests: if you are in the flowVC directory you can replace the &lt;local project path&gt; with a "." (without the quotes)
</p>
<div class="org-src-container">
<pre class="src src-shell">docker run -it --rm -v &lt;local project path&gt;:/home/dev/project throwtheswitch/madsciencelab:latest
ceedling test:all
</pre>
</div></li>
<li><p>
Build the executable
</p>
<div class="org-src-container">
<pre class="src src-shell">docker run -it --rm -v &lt;local project path&gt;:/home/dev/project throwtheswitch/madsciencelab:latest
ceedling release     
</pre>
</div></li>
<li><p>
This will create the ./build/release/flowVC.out executable. NOTE: as this was compiled using a linux (Ubuntu) docker container, this might not work if you are on another operating system. In that case you can run the command through the docker container (i.e.)
</p>
<div class="org-src-container">
<pre class="src src-shell">docker run -it --rm -v .:/home/dev/project throwtheswitch/madsciencelab:latest
.build/release/flowVC.out &lt;input file&gt;  
</pre>
</div></li>
</ol>
</div>
</li>

<li><a id="org51fb547"></a>Make<br />
<div class="outline-text-5" id="text-1-2-2-3">
<p>
The third option is to compile the source code using the provided Make file, however this file is not currently part of the CI/CD pipeline so there may be compilation bugs. Issue reports and/or contributions are welcome
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-org8889132" class="outline-4">
<h4 id="org8889132"><span class="section-number-4">1.2.3.</span> Development Guidlines</h4>
<div class="outline-text-4" id="text-1-2-3">
</div>
<ol class="org-ol">
<li><a id="orgfeb3a0d"></a>Semantic Versioning:<br />
<div class="outline-text-5" id="text-1-2-3-1">
<p>
This project intends to use a Trunk-Based Release with semantic versioning. Commit messages should follow <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a>
</p>
<div class="org-src-container">
<pre class="src src-shell">&lt;type&gt;<span style="color: #8c8c8c;">[</span>optional scope<span style="color: #8c8c8c;">]</span>: &lt;description&gt;
</pre>
</div>

<p>
Where the type determines the version updates.
</p>

<p>
Valid types are fix, feat, BREAKING CHANGE, build, chore, ci, docs, style, refactor, perf, test
</p>
</div>
</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-orgda4979f" class="outline-2">
<h2 id="orgda4979f"><span class="section-number-2">2.</span> Planned Updates</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org7fc6255" class="outline-3">
<h3 id="org7fc6255"><span class="section-number-3">2.1.</span> <span class="todo TODO">TODO</span> Add an example settings file</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: BraysComputer</p>
<p class="date">Created: 2025-02-09 Sun 02:52</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
